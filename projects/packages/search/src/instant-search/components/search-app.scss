@use '../lib/styles/helper';

.jetpack-instant-search,
// Extra specific to override in some themes
.jetpack-instant-search .widget,
.jetpack-instant-search .widget.widget_archive ul li {

	a {
		border: none;
		color: helper.$color-link;
		text-decoration: none;

		&:hover,
		&:focus {
			color: helper.$color-link-alt;
			text-decoration: underline;
		}
	}
}

.jetpack-search-filters-widget__filter-list {
	list-style-type: none;
}

// Hide the search modal in the TwentyTwenty theme
body.enable-search-modal .cover-modal.show-modal.search-modal.active {
	display: none;
}

// Text meant only for screen readers
// https://make.wordpress.org/accessibility/handbook/markup/the-css-class-screen-reader-text/
.screen-reader-text {
	border: 0;
	clip: rect( 1px, 1px, 1px, 1px );
	clip-path: inset( 50% );
	height: 1px;
	margin: -1px;
	overflow: hidden;
	padding: 0;
	position: absolute;
	width: 1px;
	word-wrap: normal !important;
}

// Dark theme styling
.jetpack-instant-search__overlay.jetpack-instant-search__overlay--dark {
	background: helper.$color-dark-modal-backdrop-background;
	color: helper.$color-dark-text;

	&,
	.widget,
	.widget.widget_archive ul li {

		a {
			color: helper.$color-dark-link;

			&:hover,
			&:focus {
				color: helper.$color-dark-link-alt;
			}
		}
	}

	.jetpack-instant-search__search-filters-title,
	.jetpack-instant-search__search-result-expanded__content,
	.jetpack-instant-search__search-results-list,
	.jetpack-instant-search__search-results-title,
	.jetpack-instant-search__search-results-unused-query {
		color: helper.$color-dark-text;
	}

	.jetpack-instant-search__jetpack-colophon-text,
	.jetpack-instant-search__path-breadcrumb-link,
	.jetpack-instant-search__path-breadcrumb {
		color: helper.$color-dark-text-light;
	}

	.jetpack-instant-search__search-filter-sub-heading,
	.jetpack-instant-search__search-result-expanded__path {
		color: helper.$color-dark-text-lighter;
	}

	.jetpack-instant-search__jetpack-colophon {
		border-color: helper.$color-dark-layout-borders;
		background-color: helper.$color-dark-modal-background;
	}

	.jetpack-instant-search__box,
	button.jetpack-instant-search__overlay-close {
		border-color: helper.$color-dark-layout-borders;
	}

	.jetpack-instant-search__box-gridicon svg,
	button.jetpack-instant-search__overlay-close svg.gridicon {
		fill: helper.$color-dark-text-lighter;
	}

	button.jetpack-instant-search__overlay-close {
		border-color: helper.$color-dark-layout-borders;

		&:focus,
		&:hover {

			svg.gridicon {
				fill: helper.$color-dark-text-light;
			}
		}
	}

	.jetpack-instant-search__box input[type="button"] {
		color: helper.$color-dark-text-lighter;

		&:hover,
		&:focus {
			color: helper.$color-dark-text-light;
		}
	}

	input.jetpack-instant-search__box-input.search-field {
		background: helper.$color-dark-modal-background;
		color: helper.$color-dark-text-light;

		&:hover,
		&:focus {
			background: helper.$color-dark-modal-background; // necessary to override theme styles
			color: helper.$color-dark-text;
		}

		&:focus {
			outline: dotted thin helper.$color-layout-borders;
		}
	}

	.jetpack-instant-search__search-results {
		background: helper.$color-dark-modal-background;

		mark {
			color: helper.$color-dark-text;
		}
	}

	.jetpack-instant-search__search-results-filter-button {
		color: helper.$color-dark-text-lighter;

		&:hover,
		&:focus {
			color: helper.$color-dark-text;
		}
	}

	.jetpack-instant-search__search-results-secondary {
		color: helper.$color-dark-text;

		@include helper.break-large-up() {
			border-color: helper.$color-dark-layout-borders;
		}

		&.jetpack-instant-search__search-results-secondary--show-as-modal {

			@include helper.break-large-down() {
				background: helper.$color-dark-modal-background;
				border-color: helper.$color-dark-layout-borders;
				box-shadow: 0 2px 3px helper.$color-dark-layout-borders;
			}
		}
	}

	.jetpack-instant-search__search-form-controls
		.jetpack-instant-search__search-sort
		button.jetpack-instant-search__search-sort-option {
		// Extra specificity to override overly agressive theme styles.
		// Without this, we need to use "!important" to get our default styling.
		color: helper.$color-dark-text-lighter;

		&.is-selected {
			color: helper.$color-dark-link-alt;
		}
	}

	.jetpack-instant-search__search-result-product-img--placeholder {
		color: helper.$studio-gray-80;
	}

	.jetpack-instant-search__search-sort-select {
		background: helper.$color-dark-modal-background;
		border-color: helper.$color-dark-layout-borders;
		color: helper.$color-dark-text;
	}
}
